
(function(a){a.fn.utfancyrotate=function(b){var c=a.extend({effect:"fxSlideForward"},b);return this.each(function(){var l={animations:Modernizr.cssanimations},m={WebkitAnimation:"webkitAnimationEnd",OAnimation:"oAnimationEnd",msAnimation:"MSAnimationEnd",animation:"animationend"},k=m[Modernizr.prefixed("animation")],h=a(this).find("ul").children(),g=0,n=h.length,i=a(this).find("nav"),j=i.find(".next"),f=i.find(".prev"),d=false;j.click(function(o){e("next");o.preventDefault()});f.click(function(o){e("prev");o.preventDefault()});function e(r){if(d){return false}d=true;var q=0;var s=h[g];if(r==="next"){g=g<n-1?g+1:0}else{if(r==="prev"){g=g>0?g-1:n-1}}var o=h[g];var p=function(){this.removeEventListener(k,p);classie.removeClass(this,"current");classie.removeClass(this,r==="next"?"navOutNext":"navOutPrev");++q;if(q===2){d=false}};var t=function(){this.removeEventListener(k,t);classie.addClass(this,"current");classie.removeClass(this,r==="next"?"navInNext":"navInPrev");++q;if(q===2){d=false}};if(l.animations){s.addEventListener(k,p);o.addEventListener(k,t)}else{p();t()}classie.addClass(s,r==="next"?"navOutNext":"navOutPrev");classie.addClass(o,r==="next"?"navInNext":"navInPrev")}})}}(jQuery));