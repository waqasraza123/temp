
(function(a){a(document).ready(function(){function f(){a('<link rel="stylesheet" id="ut-google-link" type="text/css">').insertAfter(a("#unite-grid-css"))}f();function j(m){if(!m){return}var o="http://fonts.googleapis.com/css?family=";if(unite_google_fonts.fonts[m]!==undefined){var p=(unite_google_fonts.fonts[m]["variants"]!==undefined)?":"+unite_google_fonts.fonts[m]["variants"].join():"";var n=(unite_google_fonts.fonts[m]["subsets"]!==undefined)?"&subset"+unite_google_fonts.fonts[m]["subsets"].join():"";if(unite_google_fonts.fonts[m]["family"]!==undefined){a("#ut-google-link").attr("href",o+unite_google_fonts.fonts[m]["family"]+p+n)}}}function e(m){if(unite_google_fonts.fonts[m]===undefined){return}j(m);a("#ut-preview-google-font").css("font-family",unite_google_fonts.fonts[m]["family"]);for(var n=0;n<unite_google_fonts.fonts[m]["variants"].length;n++){}}var g=false;function d(){if(!g){a(".ut-options-overlay").fadeIn(300,function(){g=true})}else{a(".ut-options-overlay").fadeOut(300,function(){g=false})}}a(document).on("click",".ut-preview-google-font-wrap .close",function(m){m.preventDefault();d()});var h=a("#ut-google-font-collection"),l=a("#ut-google-font-trash");a(".ut-sortable-fonts").sortable({connectWith:".ut-sortable-fonts",helper:"clone",placeholder:"ut-admin-panel",opacity:0.5,scroll:true,receive:function(m,n){a(this).prepend(n.item)}}).disableSelection().accordion({header:"> .ut-admin-panel > header",heightStyle:"content",active:false,collapsible:true});function b(m){if(!m){return}m.find(".ut-add-google-font").addClass("ut-hide");m.find(".ut-admin-panel-actions").removeClass("ut-hide");m.find(".ut-delete-google-font").removeClass("ut-hide");m.fadeOut(400,function(){a(this).appendTo(h).removeClass("ut-single-google-font").fadeIn(400,function(){});a(".ut-sortable-fonts").accordion("refresh")})}function c(m){if(!m){return}l.accordion("disable");h.accordion("disable");m.fadeOut(400,function(){var n=a(this);l.accordion("enable");h.accordion("enable");n.appendTo(l).fadeIn("400");n.find(".ut-delete-google-font").addClass("ut-hide");n.find(".ut-restore-google-font").removeClass("ut-hide")})}function i(m){if(!m){return}l.accordion("disable");h.accordion("disable");m.fadeOut(400,function(){var n=a(this);l.accordion("enable");h.accordion("enable");n.appendTo(h).fadeIn("400");n.find(".ut-delete-google-font").removeClass("ut-hide");n.find(".ut-restore-google-font").addClass("ut-hide")})}function k(m){a.ajax({type:"POST",url:ajaxurl,data:{action:"get_font_settings_box",familiy:m},success:function(n){a(n).hide().insertAfter("#ut-font-search-panel").slideDown()},complete:function(){}})}if(unite_google_fonts.fonts!==undefined){a("#ut_google_font_selector").autocomplete({source:unite_google_fonts.fonts,focus:function(m,n){},select:function(m,n){if(a("#unite_font_id_"+n.item.value).length){a("#unite_font_id_"+n.item.value).effect("highlight",{color:"#00b9eb"},800);return}k(n.item.family)}})}a(document).on("click",".ut-preview-google-font",function(m){e(a(this).data("fontid"));if(!g){d()}m.preventDefault()});a(document).on("click",".ut-add-google-font",function(m){b(a("#unite_font_id_"+a(this).data("fontfamily")));m.preventDefault()});a(document).on("click",".ut-delete-google-font",function(m){c(a("#unite_font_id_"+a(this).data("fontfamily")));m.preventDefault()});a(document).on("click",".ut-restore-google-font",function(m){i(a("#unite_font_id_"+a(this).data("fontfamily")));m.preventDefault()})})})(jQuery);